<%= render "shared/dashboard" %>

<div style="margin-left:25%; margin-right: 6%; padding:86px 28px; height:1000px;">
  <div class ="view title d-flex w-100 justify-content-center">
    <h2>Add NEW DOCUMENT</h2>
  </div>
  <div class="page-header"><h1>Upload Doc</h1></div>

  <%= form_for ([@user, @document]), html: { multipart: true } do |f| %>
    <div class="form-group">
      <%= f.label :file_name, "Document name:" %>
      <%= f.text_field :file_name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :project_id, "select the project it should be added to:" %>
      <%= f.select :project_id, @user.projects.collect { |proj| [proj.project_name, proj.id] }, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :doc %>
      <%= f.file_field :doc, class: 'form-control btn-white' %>
    </div>

    <div class="form-group">
          <%= f.submit 'Upload Doc', class: 'btn btn-default btn-blue' %>
      </div>
  <% end %>

  <% if @document.errors.any? %>
    <div id="error_explanation">
      <h2>
        <%= "#{pluralize(@document.errors.count, "error")} prohibited this doc from being saved:" %>
      </h2>
      <ol>
        <% @document.errors.full_messages.each do |msg| %>
          <li>
            <%= msg %>
          </li>
        <% end %>
      </ol>
    </div>
  <% end %>
</div>
